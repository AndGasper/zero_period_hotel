<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script>

function Hotel() {
    this.guests = {};
    this.maxOccupancy; // Does this need to be here?
    var maxOccupancyValue = null;
    Object.defineProperties(this,{
        maxOccupancy: {
            get: function(){
                return maxOccupancyValue;
            },
            set: function(newMaxOccupancy){
                if (newMaxOccupancy > this.getVacancyCount()) {
                    maxOccupancyValue = newMaxOccupancy;
                    console.log("I am the setter", maxOccupancyValue);
                    console.log("'Ey, oh, some of these people got to go!");
                }
                else if (newMaxOccupancy <= this.getVacancyCount()) {
                    maxOccupancyValue = newMaxOccupancy;
                    console.log(maxOccupancyValue);
                }
            }
        }
    });
    /*
    * checkIn - calls getVacancyCount to check if there are available rooms then adds a guest object to the guest array
    * @params - roomID, name
    * return - guests
    */
    this.checkIn = function(roomID, name){
        if (Object.keys(this.guests).length < this.maxOccupancy) {
            this.guests.roomID = roomID;
            //TODO Make a new guest object when they check in
        } else {
            (console.log("We're at capacity"));
        }
        return this.guests;
	};
    /*
	* checkOut - removes guest object from guests array
	* @params - roomID
	* return - guests
	 */
	this.checkOut = function(roomID){
        //remove a guest from the hotel
        for (var i = 0; i < this.guests.length; i++) {
            (this.guests[i]["roomID"] === roomID)?
                (this.guests.splice(i,1)):
                (console.log("I'm sorry, we don't have that guest in our records"));
        }
        return this.guests;
	};
    /*
	* getVacancyCount - calculate the number of remaining rooms
	* @params - maxOccupancy, guests, remainingRooms
	* return remainingRooms
	 */
	this.getVacancyCount = function(){
            //returns the number of unoccupied rooms
        var remainingRooms = this.maxOccupancy - this.guests.length;
        console.log("Remaining rooms",remainingRooms);
        return remainingRooms;
	};
	}
//
//	/*step 2*/
//	this.getGuestRegistry = function(){
//		//return the entire list of rooms and their guests in this format:
//		//array of objects[
//		   {
//		   	name  //name of the guest
//		   	roomID  //room they are checked in
//		   	checkedIn   //the date and time that they checked in
//		   }
//		]
//	}
//	this.getRoomHistory = function(roomID){
//		//return an array of all guests who have stayed at a particular room, including when they checked in, and when they checked out
//	}
//
//}

var testHotel = new Hotel();
testHotel.maxOccupancy = 2;
console.log(testHotel.checkIn(1, "Jim"));
console.log(testHotel.checkIn(2,"Bob"));
console.log(testHotel.checkIn(3,"Tom"));
//console.log(testHotel.getVacancyCount());
//console.log(testHotel.checkOut((1)));




	</script>
</head>
<body>

</body>
</html>